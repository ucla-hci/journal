<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-1.12.4.js" integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU=" crossorigin="anonymous"></script>

  <!-- Code mirror scripts -->
  <script src="lib/codemirror.js"></script>
  <link rel="stylesheet" href="lib/codemirror.css">
  <script src="node_modules/codemirror/lib/codemirror.js"></script>
  <script src="node_modules/codemirror/addon/search/search.js"></script>
  <script src="node_modules/codemirror/addon/search/searchcursor.js"></script>
  <script src="node_modules/codemirror/addon/selection/mark-selection.js"></script>
  <script src="node_modules/codemirror/addon/display/placeholder.js"></script>
  <script src="node_modules/codemirror/addon/display/rulers.js"></script>
  <!-- <script src="node_modules/codemirror-record/src/CodeRecord.js"></script> -->

  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <link rel="stylesheet" id="theme" type="text/css" href="css/theme_light.css" />  <!-- theme_dark是黑暗模式，不过没有调完所有参数，就没加上 -->

</head>

<body onload="loader()">
<div id="mySidebar" class="sidebar">
  <!--<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">Settings</a>
  <a href="javascript:void(0)" class="greeting">Good afternoon, X.</a>-->
  <a href="javascript:void(0)" onclick = "newEntry()" class="newb">New +</a>
  <!--<a href="javascript:void(0)" onclick = "manualSave()">Save</a>-->

  <button type="button" class="collapsible" onclick = "createMenu()">Recent Journals</button>
  <div class="content" id="entryTitles">
  </div>

  <div class="switch-wrapper">
    <a class="support-btn" href="mailto:sigchi@ucla.edu" target="_blank" title="Contact UCLA HCI if you need help about using Espresso">Tech Support</a>
    <!--<input class="switch switch-anim" type="checkbox" onclick=darkMode()>-->
  </div>
</div>

<div class="right-sidebar" id="rightsidebar">
  <button onclick="closeRightBar()">X</button>
  <h3>some header</h3>
  <p>some text</p>
  <button class="rewrite-button">Rewrite</button>
  <!-- <button onclick="triggerRewrite(e)">Rewrite</button> -->

</div>

<div id="container">
  <div class="btbar">
    <button class="openbtn" id="opnsidebar" onclick="openNav()"></button>
    <!-- DEBUG BUTTONS -------------------------------------------------------->
    <div class="doublebuttonbar">
      <div class="debug-buttons">
        <button style="background-color: crimson; opacity: 0.8;" onclick="killSequence()">stop</button>
        <button style="opacity: 0.3;" class="L2Button" onclick="toggleL2()">Analysis off</button>
        <!-- <button style="opacity: 0.8;" class="rewrite" onclick="showPlaceholder('big ang')">showPLaceholder</button> -->
      </div>
      <!-- <div class="suggestion-buttons">
        <button id="1" onclick="recommendInput2('optimism')">optimism</button>
        <button id="2" onclick="recommendInput2('impermanence')">impermanence</button>
        <button id="3" onclick="recommendInput2('thankfulness')">thankfulness</button>
        <button id="4" onclick="recommendInput2('growth')">growth</button>
        <button id="5" onclick="recommendInput2('neutralizing')">neutralizing</button>
      </div> -->
    <!-- END DEBUG BUTTONS ----------------------------------------------------->
    </div>
    <a id="toast" href="javascript:void(0)" onclick = "manualSave()">Save</a>
    <div>
      <!--<button class="swtbtn" id="markswitch" onclick="displayMarks()"></button>
      <button class="savebtn" id="manualsave" onclick="manualSave()"></button>
      <button class="newbtn" id="newentry" onclick="newEntry()"></button>
      <button class="recordbtn" id="record" onclick="startRecord()"></button> -->
      <a onclick="changeMode('writing')" class="mode-button" title="Click to enter writing mode">Writing</a>
      <a onclick="changeMode('expert')" class="mode-button" title="Click to enter reflection mode">Reflection</a>
      <a href="javascript:void(0)" class="mode-label" title="Now in rephrase mode">Rephrase</a>
    </div>
  </div>
  <div class="onboard" id="temp">
    <!-- Welcome to Journal! -->
    <div id="welcome">Welcome to Espresso:rephrase!</div>
    <!-- How is your day today? -->
    <div id="query" onclick="toEntry()">Click an option to begin: </div>

    <div class="parent">
      <div class="good embtn" onclick="toEntry('good')" style="cursor:pointer">
        <div class="left top text" id="n21_30">Option 1</div>
      </div>

      <div class="neutral embtn" onclick="toEntry('neutral')" style="cursor:pointer">
        <div class="left top text" id="n21_31" >Option 2</div>
      </div>
      
      <div class="bad embtn" onclick="toEntry('bad')" style="cursor:pointer">
        <div class="left top text" id="n21_33">Option 3</div>
      </div>
    </div>
  </div>

  <div id="main">
    <div class="title_in_line">
      <div class="circleCurrnetFlag" onclick="circleFlag()"></div>
      <div id="title" contenteditable="true"></div>
    </div>
    <hr>
    <div id="entrydate"></div>
    <textarea id="write" autofocus spellcheck="false"></textarea>
    <!-- <div class="clickable-marker" onclick="highlightText()"></div> -->
    <!-- <div class="clickable-marker"></div> -->

    <div id="myBottombar" class="bottombar">
      <!--
        <a href="javascript:void(0)" class="closedef" onclick="closeDef()" id="deftitle">Distortion Name</a>
        <a href="#" id="defbody">Distortion Sample</a> -->
    </div>

    <!--<div class="pop-up" id="textmanipulation">
      <div class="pop-up-title">
        <div class="close-btn" onclick="rejectChange()"></div>
        <span id="pop-up-title-text">Entry Deleted!</span>
        <div class="okay-btn" onclick="acceptChange()"></div>
      </div>
    </div>-->

  </div>

  <div class="L2-popup">
    <button onclick="closeNewPopup()">X</button>
    <h4 id="popup-header">header</h4>
    <p id="popup-content">text content</p>
    <div class="readmore-container">
      <button>Read More</button>
    </div>
  </div>

  <!--删除确认框-->
  <div class="pop-up2" id="popUpWindow">
    <div class="close-pop-up">
      <div class="close-btn" onclick="hidePopUp()"></div>
    </div>
    <div class="pop-up-title2">
      <span id="popUpMessage">Do you want to delete this entry?</span>
    </div>
    <div class="confirm-pop-up">
      <button onclick="confirmDelete()">Yes</button>
      <button onclick="hidePopUp()">No</button>
    </div>
  </div>
</div>
</body>

<!-- Espresso.js -->
<script type="text/javascript" src="js/funcs.js"></script>
<script type="text/javascript" src="js/indexDB.js"></script>
<script type="text/javascript" src="js/logger.js"></script>

</html> 